
> langgraph-python-starter@0.1.0 dev
> concurrently "npm run dev:ui" "npm run dev:agent" --names ui,agent --prefix-colors blue,green --kill-others

[agent] 
[agent] > langgraph-python-starter@0.1.0 dev:agent
[agent] > cd agent && npx @langchain/langgraph-cli dev --port 8123 --no-browser
[agent] 
[ui] 
[ui] > langgraph-python-starter@0.1.0 dev:ui
[ui] > next dev --turbopack
[ui] 
[ui]    ‚ñ≤ Next.js 15.3.2 (Turbopack)
[ui]    - Local:        http://localhost:3000
[ui]    - Network:      http://192.168.0.196:3000
[ui] 
[ui]  ‚úì Starting...
[agent] [33mwarn[39m:    [33m[2m‚ñ™[22m[0m [0m[33mLaunching Python server from @langchain/langgraph-cli is experimental. Please use the `langgraph-cli` package from PyPi instead.[39m
[agent] INFO:langgraph_api.cli:
[agent] 
[agent]         Welcome to
[agent] 
[agent] ‚ï¶  ‚îå‚îÄ‚îê‚îå‚îê‚îå‚îå‚îÄ‚îê‚ïî‚ïê‚ïó‚î¨‚îÄ‚îê‚îå‚îÄ‚îê‚îå‚îÄ‚îê‚î¨ ‚î¨
[agent] ‚ïë  ‚îú‚îÄ‚î§‚îÇ‚îÇ‚îÇ‚îÇ ‚î¨‚ïë ‚ï¶‚îú‚î¨‚îò‚îú‚îÄ‚î§‚îú‚îÄ‚îò‚îú‚îÄ‚î§
[agent] ‚ï©‚ïê‚ïù‚î¥ ‚î¥‚îò‚îî‚îò‚îî‚îÄ‚îò‚ïö‚ïê‚ïù‚î¥‚îî‚îÄ‚î¥ ‚î¥‚î¥  ‚î¥ ‚î¥
[agent] 
[agent] - üöÄ API: [36mhttp://localhost:8123[0m
[agent] - üé® Studio UI: [36mhttps://smith.langchain.com/studio/?baseUrl=http://localhost:8123[0m
[agent] - üìö API Docs: [36mhttp://localhost:8123/docs[0m
[agent] 
[agent] This in-memory server is designed for development and testing.
[agent] For production use, please use LangGraph Platform.
[agent] 
[agent] 
[ui]  ‚úì Ready in 742ms
[agent] [2m2025-07-23T19:36:45.193120Z[0m [[32m[1minfo     [0m] [1mUsing langgraph_runtime_inmem [0m [[0m[1m[34mlanggraph_runtime[0m][0m [36mapi_variant[0m=[35mlocal_dev[0m [36mlanggraph_api_version[0m=[35m0.2.100[0m [36mthread_name[0m=[35mMainThread[0m
[agent] [2m2025-07-23T19:36:45.201253Z[0m [[32m[1minfo     [0m] [1mUsing auth of type=noop       [0m [[0m[1m[34mlanggraph_api.auth.middleware[0m][0m [36mapi_variant[0m=[35mlocal_dev[0m [36mlanggraph_api_version[0m=[35m0.2.100[0m [36mthread_name[0m=[35mMainThread[0m
[agent] [2m2025-07-23T19:36:45.203338Z[0m [[32m[1minfo     [0m] [1mStarting In-Memory runtime with langgraph-api=0.2.100 and in-memory runtime=0.6.1[0m [[0m[1m[34mlanggraph_runtime_inmem.lifespan[0m][0m [36mapi_variant[0m=[35mlocal_dev[0m [36mlanggraph_api_version[0m=[35m0.2.100[0m [36mlanggraph_runtime_inmem_version[0m=[35m0.6.1[0m [36mthread_name[0m=[35masyncio_0[0m [36mversion[0m=[35m0.2.100[0m
[agent] [2m2025-07-23T19:36:45.218322Z[0m [[32m[1minfo     [0m] [1mStarting thread TTL sweeper with interval 5 minutes[0m [[0m[1m[34mlanggraph_api.thread_ttl[0m][0m [36mapi_variant[0m=[35mlocal_dev[0m [36minterval_minutes[0m=[35m5[0m [36mlanggraph_api_version[0m=[35m0.2.100[0m [36mstrategy[0m=[35mdelete[0m [36mthread_name[0m=[35masyncio_1[0m
[agent] [2m2025-07-23T19:36:45.430638Z[0m [[32m[1minfo     [0m] [1mRegistering graph with id 'sample_agent'[0m [[0m[1m[34mlanggraph_api.graph[0m][0m [36mapi_variant[0m=[35mlocal_dev[0m [36mgraph_id[0m=[35msample_agent[0m [36mlanggraph_api_version[0m=[35m0.2.100[0m [36mthread_name[0m=[35masyncio_1[0m
[agent] [2m2025-07-23T19:36:45.459064Z[0m [[32m[1minfo     [0m] [1mStarting 10 background workers[0m [[0m[1m[34mlanggraph_runtime_inmem.queue[0m][0m [36mapi_variant[0m=[35mlocal_dev[0m [36mlanggraph_api_version[0m=[35m0.2.100[0m [36mthread_name[0m=[35masyncio_0[0m
[agent] [2m2025-07-23T19:36:45.459528Z[0m [[32m[1minfo     [0m] [1mWorker stats                  [0m [[0m[1m[34mlanggraph_runtime_inmem.queue[0m][0m [36mactive[0m=[35m0[0m [36mapi_variant[0m=[35mlocal_dev[0m [36mavailable[0m=[35m10[0m [36mlanggraph_api_version[0m=[35m0.2.100[0m [36mmax[0m=[35m10[0m [36mthread_name[0m=[35masyncio_1[0m
[agent] [2m2025-07-23T19:36:45.961078Z[0m [[32m[1minfo     [0m] [1mQueue stats                   [0m [[0m[1m[34mlanggraph_runtime_inmem.queue[0m][0m [36mapi_variant[0m=[35mlocal_dev[0m [36mlanggraph_api_version[0m=[35m0.2.100[0m [36mmax_age_secs[0m=[35mNone[0m [36mmed_age_secs[0m=[35mNone[0m [36mn_pending[0m=[35m0[0m [36mn_running[0m=[35m0[0m [36mthread_name[0m=[35masyncio_0[0m
[agent] [2m2025-07-23T19:36:45.961431Z[0m [[32m[1minfo     [0m] [1mSwept runs                    [0m [[0m[1m[34mlanggraph_runtime_inmem.queue[0m][0m [36mapi_variant[0m=[35mlocal_dev[0m [36mlanggraph_api_version[0m=[35m0.2.100[0m [36mrun_ids[0m=[35m[][0m [36mthread_name[0m=[35mMainThread[0m
[ui]  ‚óã Compiling / ...
[ui]  ‚úì Compiled / in 2.7s
[ui]  GET / 200 in 3101ms
[ui]  ‚óã Compiling /favicon.ico ...
[ui]  GET /favicon.ico?favicon.45db1c09.ico 200 in 1269ms
[ui]  ‚úì Compiled /favicon.ico in 3.8s
[ui]  POST /api/copilotkit 200 in 4283ms
[agent] [2m2025-07-23T19:37:09.577859Z[0m [[32m[1minfo     [0m] [1mGetting auth instance: None   [0m [[0m[1m[34mlanggraph_api.auth.custom[0m][0m [36mapi_variant[0m=[35mlocal_dev[0m [36mlanggraph_api_version[0m=[35m0.2.100[0m [36mlanggraph_auth[0m=[35mNone[0m [36mmethod[0m=[35mGET[0m [36mpath[0m=[35m/threads/{thread_id}/state[0m [36mrequest_id[0m=[35m88555dce-d236-48be-8e7e-648df3f9bffc[0m [36mthread_name[0m=[35mMainThread[0m
[ui]  POST /api/copilotkit 200 in 4359ms
[ui]  POST /api/copilotkit 200 in 4364ms
[agent] [2m2025-07-23T19:37:14.248472Z[0m [[32m[1minfo     [0m] [1mCreated run                   [0m [[0m[1m[34mlanggraph_runtime_inmem.ops[0m][0m [36mafter_seconds[0m=[35m0[0m [36mapi_variant[0m=[35mlocal_dev[0m [36massistant_id[0m=[35mfe68dfa1-88d3-57dc-afdf-6ac84f8fe8ea[0m [36mif_not_exists[0m=[35mreject[0m [36mlanggraph_api_version[0m=[35m0.2.100[0m [36mmethod[0m=[35mPOST[0m [36mmultitask_strategy[0m=[35mreject[0m [36mpath[0m=[35m/threads/{thread_id}/runs/stream[0m [36mrequest_id[0m=[35m633e097c-60e9-48a7-acf0-b83f0ada1ff3[0m [36mrun_create_ms[0m=[35m2[0m [36mrun_id[0m=[35m1f067fc6-f232-6f06-9197-04845876b80e[0m [36mrun_put_ms[0m=[35m0[0m [36mstream_mode[0m=[35m['events', 'values', 'updates'][0m [36mtemporary[0m=[35mFalse[0m [36mthread_id[0m=[35m55e6cb9d-cd06-44d4-aaa8-65b1f4be1304[0m [36mthread_name[0m=[35mMainThread[0m
[agent] [2m2025-07-23T19:37:15.089861Z[0m [[32m[1minfo     [0m] [1mStarting background run       [0m [[0m[1m[34mlanggraph_api.worker[0m][0m [36mapi_variant[0m=[35mlocal_dev[0m [36massistant_id[0m=[35mfe68dfa1-88d3-57dc-afdf-6ac84f8fe8ea[0m [36mgraph_id[0m=[35msample_agent[0m [36mlanggraph_api_version[0m=[35m0.2.100[0m [36mrequest_id[0m=[35m633e097c-60e9-48a7-acf0-b83f0ada1ff3[0m [36mresumable[0m=[35mFalse[0m [36mrun_attempt[0m=[35m1[0m [36mrun_creation_ms[0m=[35m2[0m [36mrun_id[0m=[35m1f067fc6-f232-6f06-9197-04845876b80e[0m [36mrun_queue_ms[0m=[35m841[0m [36mrun_started_at[0m=[35m2025-07-23T19:37:15.089449+00:00[0m [36mrun_stream_start_ms[0m=[35m0[0m [36mtemporary[0m=[35mFalse[0m [36mthread_id[0m=[35m55e6cb9d-cd06-44d4-aaa8-65b1f4be1304[0m [36mthread_name[0m=[35masyncio_0[0m
[agent] [2m2025-07-23T19:37:16.595103Z[0m [[32m[1minfo     [0m] [1mHTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"[0m [[0m[1m[34mhttpx[0m][0m [36mapi_variant[0m=[35mlocal_dev[0m [36massistant_id[0m=[35mfe68dfa1-88d3-57dc-afdf-6ac84f8fe8ea[0m [36mgraph_id[0m=[35msample_agent[0m [36mlanggraph_api_version[0m=[35m0.2.100[0m [36mlanggraph_node[0m=[35mchat_node[0m [36mrequest_id[0m=[35m633e097c-60e9-48a7-acf0-b83f0ada1ff3[0m [36mrun_attempt[0m=[35m1[0m [36mrun_id[0m=[35m1f067fc6-f232-6f06-9197-04845876b80e[0m [36mthread_id[0m=[35m55e6cb9d-cd06-44d4-aaa8-65b1f4be1304[0m [36mthread_name[0m=[35mMainThread[0m
[agent] [2m2025-07-23T19:37:16.703634Z[0m [[32m[1minfo     [0m] [1mBackground run succeeded      [0m [[0m[1m[34mlanggraph_api.worker[0m][0m [36mapi_variant[0m=[35mlocal_dev[0m [36massistant_id[0m=[35mfe68dfa1-88d3-57dc-afdf-6ac84f8fe8ea[0m [36mgraph_id[0m=[35msample_agent[0m [36mlanggraph_api_version[0m=[35m0.2.100[0m [36mrequest_id[0m=[35m633e097c-60e9-48a7-acf0-b83f0ada1ff3[0m [36mrun_attempt[0m=[35m1[0m [36mrun_completed_in_ms[0m=[35m2457[0m [36mrun_created_at[0m=[35m2025-07-23T19:37:14.248417+00:00[0m [36mrun_ended_at[0m=[35m2025-07-23T19:37:16.703518+00:00[0m [36mrun_exec_ms[0m=[35m1614[0m [36mrun_id[0m=[35m1f067fc6-f232-6f06-9197-04845876b80e[0m [36mrun_started_at[0m=[35m2025-07-23T19:37:15.089449+00:00[0m [36mthread_id[0m=[35m55e6cb9d-cd06-44d4-aaa8-65b1f4be1304[0m [36mthread_name[0m=[35masyncio_1[0m
[ui]  POST /api/copilotkit 200 in 2629ms
[agent] [2m2025-07-23T19:37:45.915675Z[0m [[32m[1minfo     [0m] [1mWorker stats                  [0m [[0m[1m[34mlanggraph_runtime_inmem.queue[0m][0m [36mactive[0m=[35m0[0m [36mapi_variant[0m=[35mlocal_dev[0m [36mavailable[0m=[35m10[0m [36mlanggraph_api_version[0m=[35m0.2.100[0m [36mmax[0m=[35m10[0m [36mthread_name[0m=[35masyncio_1[0m
[agent] [2m2025-07-23T19:37:46.419602Z[0m [[32m[1minfo     [0m] [1mQueue stats                   [0m [[0m[1m[34mlanggraph_runtime_inmem.queue[0m][0m [36mapi_variant[0m=[35mlocal_dev[0m [36mlanggraph_api_version[0m=[35m0.2.100[0m [36mmax_age_secs[0m=[35mNone[0m [36mmed_age_secs[0m=[35mNone[0m [36mn_pending[0m=[35m0[0m [36mn_running[0m=[35m0[0m [36mthread_name[0m=[35masyncio_0[0m
[agent] [2m2025-07-23T19:38:01.534469Z[0m [[32m[1minfo     [0m] [1mCreated run                   [0m [[0m[1m[34mlanggraph_runtime_inmem.ops[0m][0m [36mafter_seconds[0m=[35m0[0m [36mapi_variant[0m=[35mlocal_dev[0m [36massistant_id[0m=[35mfe68dfa1-88d3-57dc-afdf-6ac84f8fe8ea[0m [36mif_not_exists[0m=[35mreject[0m [36mlanggraph_api_version[0m=[35m0.2.100[0m [36mmethod[0m=[35mPOST[0m [36mmultitask_strategy[0m=[35mreject[0m [36mpath[0m=[35m/threads/{thread_id}/runs/stream[0m [36mrequest_id[0m=[35m42d7e8e0-9c58-4ea6-aeac-c3ebd1e8a8bc[0m [36mrun_create_ms[0m=[35m1[0m [36mrun_id[0m=[35m1f067fc8-b527-6434-a1f8-5e1efdc72bce[0m [36mrun_put_ms[0m=[35m0[0m [36mstream_mode[0m=[35m['events', 'values', 'updates'][0m [36mtemporary[0m=[35mFalse[0m [36mthread_id[0m=[35m55e6cb9d-cd06-44d4-aaa8-65b1f4be1304[0m [36mthread_name[0m=[35mMainThread[0m
[agent] [2m2025-07-23T19:38:02.463605Z[0m [[32m[1minfo     [0m] [1mStarting background run       [0m [[0m[1m[34mlanggraph_api.worker[0m][0m [36mapi_variant[0m=[35mlocal_dev[0m [36massistant_id[0m=[35mfe68dfa1-88d3-57dc-afdf-6ac84f8fe8ea[0m [36mgraph_id[0m=[35msample_agent[0m [36mlanggraph_api_version[0m=[35m0.2.100[0m [36mrequest_id[0m=[35m42d7e8e0-9c58-4ea6-aeac-c3ebd1e8a8bc[0m [36mresumable[0m=[35mFalse[0m [36mrun_attempt[0m=[35m1[0m [36mrun_creation_ms[0m=[35m1[0m [36mrun_id[0m=[35m1f067fc8-b527-6434-a1f8-5e1efdc72bce[0m [36mrun_queue_ms[0m=[35m928[0m [36mrun_started_at[0m=[35m2025-07-23T19:38:02.463195+00:00[0m [36mrun_stream_start_ms[0m=[35m0[0m [36mtemporary[0m=[35mFalse[0m [36mthread_id[0m=[35m55e6cb9d-cd06-44d4-aaa8-65b1f4be1304[0m [36mthread_name[0m=[35masyncio_0[0m
[agent] [2m2025-07-23T19:38:02.472291Z[0m [[31m[1merror    [0m] [1mRun encountered an error in graph: <class 'ValueError'>(Message dict must contain 'role' and 'content' keys, got {'lc': 1, 'type': 'constructor', 'id': ['langchain_core', 'messages', 'RemoveMessage'], 'kwargs': {'id': 'run--e4f9fcaf-6185-44ee-ae02-2b6f2b2f48e2', 'content': '', 'additional_kwargs': {}, 'response_metadata': {}}}
[agent] For troubleshooting, visit: https://python.langchain.com/docs/troubleshooting/errors/MESSAGE_COERCION_FAILURE )[0m [[0m[1m[34mlanggraph_api.worker[0m][0m [36mapi_variant[0m=[35mlocal_dev[0m [36massistant_id[0m=[35mfe68dfa1-88d3-57dc-afdf-6ac84f8fe8ea[0m [36mgraph_id[0m=[35msample_agent[0m [36mlanggraph_api_version[0m=[35m0.2.100[0m [36mrequest_id[0m=[35m42d7e8e0-9c58-4ea6-aeac-c3ebd1e8a8bc[0m [36mrun_attempt[0m=[35m1[0m [36mrun_id[0m=[35m1f067fc8-b527-6434-a1f8-5e1efdc72bce[0m [36mthread_id[0m=[35m55e6cb9d-cd06-44d4-aaa8-65b1f4be1304[0m [36mthread_name[0m=[35mMainThread[0m
[agent] Traceback (most recent call last):
[agent]   File "/Users/austinmorgan/CheatSheet/CheatSheet/agent/.venv/lib/python3.13/site-packages/langgraph_api/worker.py", line 135, in wrap_user_errors
[agent]     await consume(stream, run_id, resumable)
[agent]   File "/Users/austinmorgan/CheatSheet/CheatSheet/agent/.venv/lib/python3.13/site-packages/langgraph_api/stream.py", line 332, in consume
[agent]     raise e
[agent]   File "/Users/austinmorgan/CheatSheet/CheatSheet/agent/.venv/lib/python3.13/site-packages/langgraph_api/stream.py", line 316, in consume
[agent]     async for mode, payload in stream:
[agent]     ...<5 lines>...
[agent]         )
[agent]   File "/Users/austinmorgan/CheatSheet/CheatSheet/agent/.venv/lib/python3.13/site-packages/langgraph_api/stream.py", line 176, in astream_state
[agent]     event = await wait_if_not_done(anext(stream, sentinel), done)
[agent]             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[agent]   File "/Users/austinmorgan/CheatSheet/CheatSheet/agent/.venv/lib/python3.13/site-packages/langgraph_api/asyncio.py", line 91, in wait_if_not_done
[agent]     raise e.exceptions[0] from None
[agent]   File "/Users/austinmorgan/CheatSheet/CheatSheet/agent/.venv/lib/python3.13/site-packages/langchain_core/runnables/base.py", line 1403, in astream_events
[agent]     async for event in event_stream:
[agent]         yield event
[agent]   File "/Users/austinmorgan/CheatSheet/CheatSheet/agent/.venv/lib/python3.13/site-packages/langchain_core/tracers/event_stream.py", line 1021, in _astream_events_implementation_v2
[agent]     await task
[agent]   File "/Users/austinmorgan/CheatSheet/CheatSheet/agent/.venv/lib/python3.13/site-packages/langchain_core/tracers/event_stream.py", line 976, in consume_astream
[agent]     async for _ in event_streamer.tap_output_aiter(run_id, stream):
[agent]         # All the content will be picked up
[agent]         pass
[agent]   File "/Users/austinmorgan/CheatSheet/CheatSheet/agent/.venv/lib/python3.13/site-packages/langchain_core/tracers/event_stream.py", line 204, in tap_output_aiter
[agent]     async for chunk in output:
[agent]     ...<4 lines>...
[agent]         yield chunk
[agent]   File "/Users/austinmorgan/CheatSheet/CheatSheet/agent/.venv/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2652, in astream
[agent]     while loop.tick(input_keys=self.input_channels):
[agent]           ~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[agent]   File "/Users/austinmorgan/CheatSheet/CheatSheet/agent/.venv/lib/python3.13/site-packages/langgraph/pregel/loop.py", line 493, in tick
[agent]     mv_writes, updated_channels = apply_writes(
[agent]                                   ~~~~~~~~~~~~^
[agent]         self.checkpoint,
[agent]         ^^^^^^^^^^^^^^^^
[agent]     ...<3 lines>...
[agent]         self.trigger_to_nodes,
[agent]         ^^^^^^^^^^^^^^^^^^^^^^
[agent]     )
[agent]     ^
[agent]   File "/Users/austinmorgan/CheatSheet/CheatSheet/agent/.venv/lib/python3.13/site-packages/langgraph/pregel/algo.py", line 305, in apply_writes
[agent]     if channels[chan].update(vals) and get_next_version is not None:
[agent]        ~~~~~~~~~~~~~~~~~~~~~^^^^^^
[agent]   File "/Users/austinmorgan/CheatSheet/CheatSheet/agent/.venv/lib/python3.13/site-packages/langgraph/channels/binop.py", line 91, in update
[agent]     self.value = self.operator(self.value, value)
[agent]                  ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^
[agent]   File "/Users/austinmorgan/CheatSheet/CheatSheet/agent/.venv/lib/python3.13/site-packages/langgraph/graph/message.py", line 39, in _add_messages
[agent]     return func(left, right, **kwargs)
[agent]   File "/Users/austinmorgan/CheatSheet/CheatSheet/agent/.venv/lib/python3.13/site-packages/langgraph/graph/message.py", line 182, in add_messages
[agent]     for m in convert_to_messages(right)
[agent]              ~~~~~~~~~~~~~~~~~~~^^^^^^^
[agent]   File "/Users/austinmorgan/CheatSheet/CheatSheet/agent/.venv/lib/python3.13/site-packages/langchain_core/messages/utils.py", line 367, in convert_to_messages
[agent]     return [_convert_to_message(m) for m in messages]
[agent]             ~~~~~~~~~~~~~~~~~~~^^^
[agent]   File "/Users/austinmorgan/CheatSheet/CheatSheet/agent/.venv/lib/python3.13/site-packages/langchain_core/messages/utils.py", line 339, in _convert_to_message
[agent]     raise ValueError(msg) from e
[agent] ValueError: Message dict must contain 'role' and 'content' keys, got {'lc': 1, 'type': 'constructor', 'id': ['langchain_core', 'messages', 'RemoveMessage'], 'kwargs': {'id': 'run--e4f9fcaf-6185-44ee-ae02-2b6f2b2f48e2', 'content': '', 'additional_kwargs': {}, 'response_metadata': {}}}
[agent] For troubleshooting, visit: https://python.langchain.com/docs/troubleshooting/errors/MESSAGE_COERCION_FAILURE 
[agent] [2m2025-07-23T19:38:02.486653Z[0m [[31m[1merror    [0m] [1mBackground run failed. Exception: <class 'ValueError'>(Message dict must contain 'role' and 'content' keys, got {'lc': 1, 'type': 'constructor', 'id': ['langchain_core', 'messages', 'RemoveMessage'], 'kwargs': {'id': 'run--e4f9fcaf-6185-44ee-ae02-2b6f2b2f48e2', 'content': '', 'additional_kwargs': {}, 'response_metadata': {}}}
[agent] For troubleshooting, visit: https://python.langchain.com/docs/troubleshooting/errors/MESSAGE_COERCION_FAILURE )[0m [[0m[1m[34mlanggraph_api.worker[0m][0m [36mapi_variant[0m=[35mlocal_dev[0m [36massistant_id[0m=[35mfe68dfa1-88d3-57dc-afdf-6ac84f8fe8ea[0m [36mgraph_id[0m=[35msample_agent[0m [36mlanggraph_api_version[0m=[35m0.2.100[0m [36mrequest_id[0m=[35m42d7e8e0-9c58-4ea6-aeac-c3ebd1e8a8bc[0m [36mrun_attempt[0m=[35m1[0m [36mrun_completed_in_ms[0m=[35m953[0m [36mrun_created_at[0m=[35m2025-07-23T19:38:01.534433+00:00[0m [36mrun_ended_at[0m=[35m2025-07-23T19:38:02.486463+00:00[0m [36mrun_exec_ms[0m=[35m23[0m [36mrun_id[0m=[35m1f067fc8-b527-6434-a1f8-5e1efdc72bce[0m [36mrun_started_at[0m=[35m2025-07-23T19:38:02.463195+00:00[0m [36mthread_id[0m=[35m55e6cb9d-cd06-44d4-aaa8-65b1f4be1304[0m [36mthread_name[0m=[35masyncio_0[0m
[agent] [2m2025-07-23T19:38:02.491137Z[0m [[31m[1merror    [0m] [1mBad Request Error             [0m [[0m[1m[34mlanggraph_api.errors[0m][0m [36mapi_variant[0m=[35mlocal_dev[0m [36mlanggraph_api_version[0m=[35m0.2.100[0m [36mmethod[0m=[35mGET[0m [36mpath[0m=[35m/threads/{thread_id}/state[0m [36mrequest_id[0m=[35m665bc915-dd20-4b58-a323-ad00174d1869[0m [36mthread_name[0m=[35mMainThread[0m
[agent] Traceback (most recent call last):
[agent]   File "/Users/austinmorgan/CheatSheet/CheatSheet/agent/.venv/lib/python3.13/site-packages/langchain_core/messages/utils.py", line 333, in _convert_to_message
[agent]     msg_content = msg_kwargs.pop("content") or ""
[agent]                   ~~~~~~~~~~~~~~^^^^^^^^^^^
[agent] KeyError: 'content'
[agent] 
[agent] The above exception was the direct cause of the following exception:
[agent] 
[agent] Traceback (most recent call last):
[agent]   File "/Users/austinmorgan/CheatSheet/CheatSheet/agent/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
[agent]     await app(scope, receive, sender)
[agent]   File "/Users/austinmorgan/CheatSheet/CheatSheet/agent/.venv/lib/python3.13/site-packages/langgraph_api/route.py", line 42, in app
[agent]     response: ASGIApp = await func(request)
[agent]                         ^^^^^^^^^^^^^^^^^^^
[agent]   File "/Users/austinmorgan/CheatSheet/CheatSheet/agent/.venv/lib/python3.13/site-packages/langgraph_runtime_inmem/retry.py", line 27, in wrapper
[agent]     return await func(*args, **kwargs)
[agent]            ^^^^^^^^^^^^^^^^^^^^^^^^^^^
[agent]   File "/Users/austinmorgan/CheatSheet/CheatSheet/agent/.venv/lib/python3.13/site-packages/langgraph_api/api/threads.py", line 87, in get_thread_state
[agent]     await Threads.State.get(
[agent]         conn, {"configurable": {"thread_id": thread_id}}, subgraphs=subgraphs
[agent]     )
[agent]   File "/Users/austinmorgan/CheatSheet/CheatSheet/agent/.venv/lib/python3.13/site-packages/langgraph_runtime_inmem/ops.py", line 1210, in get
[agent]     result = await graph.aget_state(config, subgraphs=subgraphs)
[agent]              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[agent]   File "/Users/austinmorgan/CheatSheet/CheatSheet/agent/.venv/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 1200, in aget_state
[agent]     return await self._aprepare_state_snapshot(
[agent]            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[agent]     ...<4 lines>...
[agent]     )
[agent]     ^
[agent]   File "/Users/austinmorgan/CheatSheet/CheatSheet/agent/.venv/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 1101, in _aprepare_state_snapshot
[agent]     apply_writes(
[agent]     ~~~~~~~~~~~~^
[agent]         saved.checkpoint, channels, tasks, None, self.trigger_to_nodes
[agent]         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[agent]     )
[agent]     ^
[agent]   File "/Users/austinmorgan/CheatSheet/CheatSheet/agent/.venv/lib/python3.13/site-packages/langgraph/pregel/algo.py", line 305, in apply_writes
[agent]     if channels[chan].update(vals) and get_next_version is not None:
[agent]        ~~~~~~~~~~~~~~~~~~~~~^^^^^^
[agent]   File "/Users/austinmorgan/CheatSheet/CheatSheet/agent/.venv/lib/python3.13/site-packages/langgraph/channels/binop.py", line 91, in update
[agent]     self.value = self.operator(self.value, value)
[agent]                  ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^
[agent]   File "/Users/austinmorgan/CheatSheet/CheatSheet/agent/.venv/lib/python3.13/site-packages/langgraph/graph/message.py", line 39, in _add_messages
[agent]     return func(left, right, **kwargs)
[agent]   File "/Users/austinmorgan/CheatSheet/CheatSheet/agent/.venv/lib/python3.13/site-packages/langgraph/graph/message.py", line 182, in add_messages
[agent]     for m in convert_to_messages(right)
[agent]              ~~~~~~~~~~~~~~~~~~~^^^^^^^
[agent]   File "/Users/austinmorgan/CheatSheet/CheatSheet/agent/.venv/lib/python3.13/site-packages/langchain_core/messages/utils.py", line 367, in convert_to_messages
[agent]     return [_convert_to_message(m) for m in messages]
[agent]             ~~~~~~~~~~~~~~~~~~~^^^
[agent]   File "/Users/austinmorgan/CheatSheet/CheatSheet/agent/.venv/lib/python3.13/site-packages/langchain_core/messages/utils.py", line 339, in _convert_to_message
[agent]     raise ValueError(msg) from e
[agent] ValueError: Message dict must contain 'role' and 'content' keys, got {'lc': 1, 'type': 'constructor', 'id': ['langchain_core', 'messages', 'RemoveMessage'], 'kwargs': {'id': 'run--e4f9fcaf-6185-44ee-ae02-2b6f2b2f48e2', 'content': '', 'additional_kwargs': {}, 'response_metadata': {}}}
[agent] For troubleshooting, visit: https://python.langchain.com/docs/troubleshooting/errors/MESSAGE_COERCION_FAILURE 
[ui]  POST /api/copilotkit 200 in 1138ms
